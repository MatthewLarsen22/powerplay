paths:
  message:
    get:
      summary: Get single message
      description: |
        **REQUIRED PERMISSIONS:** TBD 
        **RATE LIMIT:** TBD
      tags:
        - 'Chat: Message'
      operation-id: get-message
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/schemas/GetMessageRequest'
      responses:
        200:
          description: Message retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/schemas/GetMessageResponse'
        400:
          $ref: "../common/errors.yml#/responses/BadRequest"
    post:
      summary: Creates a single message
      description: |
        **REQUIRED PERMISSIONS:** TBD 
        **RATE LIMIT:** TBD
      tags:
        - 'Chat: Message'
      operation-id: post-message
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/schemas/CreateMessageRequest'
      responses:
        200:
          description: Message sent successfully
          content:
            application/json:
              schema:
                $ref: '#/schemas/CreateMessageResponse' 
        400:
          $ref: "../common/errors.yml#/responses/BadRequest"
  modifyMessage:
    put:
      tags:
        - 'Chat: Message'
      summary: Modify a message
      description: |
        **REQUIRED PERMISSIONS:** TBD 
        **RATE LIMIT:** TBD
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/schemas/ModifyMessageRequest"
      responses:
        200:
          description: Message content changed
          content:
            application/json:
              schema:
                $ref: "#/schemas/ModifyMessageResponse"
        400:
          $ref: "../common/errors.yml#/responses/BadRequest"

schemas:
  GetMessageRequest:
    type: object
    properties:
      messageID:
        type: integer
        description: Message ID of requested message
        example: 0
  GetMessageResponse:
    type: object
    properties:
      message:
        type: string
        description: Log-message for sent chat-message
        example: Message sent successfully
      status_code:
        $ref: "../common/schemas.yml#/schemas/StatusCode200"
      status_string:
        $ref: "../common/schemas.yml#/schemas/StatusString200"
      request_id:
        $ref: "../common/schemas.yml#/schemas/RequestId"
      response_data:
        type: object
        properties:
          messageID:
            type: integer
            description: Message ID of requested message
            example: 0
          senderID:
            type: integer
            description: User ID of sender
            example: 0
          content:
            type: string
            description: Message content
            example: 'Comms check, testing'
          createdAt:
            type: string
            description: Time when message was sent
            example: 'some time'
          channelID:
            type: integer
            description: Channel ID where message was posted
            example: 0
          recipientIDs:
            type: array
            description: User IDs of message recipients
            example: [1, 2, 3]
  CreateMessageRequest:
    type: object
    properties:
      senderID:
        type: integer
        description: User ID of sender
        example: 0
      content:
        type: string
        description: Message content
        example: 'Comms check, testing'
      channelID:
        type: integer
        description: Channel ID where message was posted
        example: 0
      recipientIDs:
        description: User IDs of message recipients
        type: array
        example: [1, 2, 3]
  CreateMessageResponse:
    type: object
    properties:
      message:
        type: string
        description: Log-message for sent chat-message
        example: Message sent successfully
      status_code:
        $ref: "../common/schemas.yml#/schemas/StatusCode200"
      status_string:
        $ref: "../common/schemas.yml#/schemas/StatusString200"
      request_id:
        $ref: "../common/schemas.yml#/schemas/RequestId"
      response_data:
        type: object
        properties:
          messageID:
            type: integer
            example: 0
            
  ModifyMessageRequest:
    type: object
    properties:
      userID: 
        type: string
        description: User ID of message
        example: "0"
      MessageID:
        type: string
        description: Message ID
        example: "0"
      NewMessageContent:
        type: string
        description: Replacement message content
        example: "Hello World!"     

  ModifyMessageResponse:
    type: object
    properties:
      status_code:
        $ref: "../common/schemas.yml#/schemas/StatusCode200"
      status_string:
        $ref: "../common/schemas.yml#/schemas/StatusString200"
      message:
        type: string
        example: Message modified successfully 
      request_id:
        $ref: "../common/schemas.yml#/schemas/RequestId"
  